"use strict";var _express=_interopRequireDefault(require("express")),_dotenv=require("dotenv"),_cors=_interopRequireDefault(require("cors")),_sendemail=require("./utils/sendemail.js");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var app=(0,_express.default)(),router=_express.default.Router();(0,_dotenv.config)({path:"./config.env"}),app.use((0,_cors.default)({origin:process.env.FRONTEND_URL,methods:"POST",credentials:!0})),app.use(_express.default.json()),app.use(_express.default.urlencoded({extended:!0})),router.post("/send/mail",function(s,r,a){var t,n,u,o;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=s.body,n=t.name,u=t.email,o=t.message,n&&u&&o){e.next=3;break}return e.abrupt("return",a(r.status(400).json({success:!1,message:"Please provide all required fields"})));case 3:return e.prev=3,e.next=6,regeneratorRuntime.awrap((0,_sendemail.sendEmail)({email:"nehaaaaa.2305@gmail.com",subject:"GYM WEBSITE CONTACT",message:o,userEmail:u}));case 6:r.status(200).json({success:!0,message:"Email sent successfully"}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),r.status(500).json({success:!1,message:"Failed to send email",error:e.t0.message});case 12:case"end":return e.stop()}},null,null,[[3,9]])}),app.use(router),app.listen(process.env.PORT,function(){console.log("Server is running on port ".concat(process.env.PORT))});
//# sourceMappingURL=app.min.js.map
